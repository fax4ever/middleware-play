CREATE TABLE USER (USERNAME VARCHAR(255) NOT NULL, PASSWORD VARCHAR(34), PRIMARY KEY (USERNAME));
CREATE TABLE ATHLETE (ID BIGINT AUTO_INCREMENT NOT NULL, BIRTHDATE DATETIME, EMAIL VARCHAR(255), HOMETOWN VARCHAR(255), NAME VARCHAR(255), SURNAME VARCHAR(255), TAXCODE VARCHAR(255), UISPCODE VARCHAR(255) NOT NULL UNIQUE, CITY VARCHAR(255), STATE VARCHAR(255), STREET VARCHAR(255), ZIP VARCHAR(255), CLUB_ID BIGINT, PRIMARY KEY (ID));
CREATE TABLE ATTACHE (ID BIGINT AUTO_INCREMENT NOT NULL, BIRTHDATE DATETIME, EMAIL VARCHAR(255), HOMETOWN VARCHAR(255), NAME VARCHAR(255), SURNAME VARCHAR(255), TAXCODE VARCHAR(255), CITY VARCHAR(255), STATE VARCHAR(255), STREET VARCHAR(255), ZIP VARCHAR(255), CLUB_ID BIGINT, USER_USERNAME VARCHAR(255), PRIMARY KEY (ID));
CREATE TABLE CHAMPIONSHIP (ID BIGINT AUTO_INCREMENT NOT NULL, DESCRIPTION VARCHAR(5000), END DATETIME, NAME VARCHAR(255), PRICE DECIMAL(38), SEASON INTEGER, START DATETIME, CITY VARCHAR(255), STATE VARCHAR(255), STREET VARCHAR(255), ZIP VARCHAR(255), CURATOR_ID BIGINT, SPORT_ID BIGINT, PRIMARY KEY (ID));
CREATE TABLE COMPETITION (ID BIGINT AUTO_INCREMENT NOT NULL, DESCRIPTION VARCHAR(5000), END DATETIME, NAME VARCHAR(255), PRICE DECIMAL(38), SEASON INTEGER, START DATETIME, CITY VARCHAR(255), STATE VARCHAR(255), STREET VARCHAR(255), ZIP VARCHAR(255), CURATOR_ID BIGINT, SPORT_ID BIGINT, PRIMARY KEY (ID));
CREATE TABLE CURATOR (ID BIGINT AUTO_INCREMENT NOT NULL, BIRTHDATE DATETIME, EMAIL VARCHAR(255), HOMETOWN VARCHAR(255), NAME VARCHAR(255), SURNAME VARCHAR(255), TAXCODE VARCHAR(255), CITY VARCHAR(255), STATE VARCHAR(255), STREET VARCHAR(255), ZIP VARCHAR(255), USER_USERNAME VARCHAR(255), PRIMARY KEY (ID));
CREATE TABLE SPORT (ID BIGINT AUTO_INCREMENT NOT NULL, DESCRIPTION VARCHAR(5000), NAME VARCHAR(255), PRIMARY KEY (ID));
CREATE TABLE SPORTSCLUB (ID BIGINT AUTO_INCREMENT NOT NULL, FRESHMAN VARCHAR(255), NAME VARCHAR(255), TAXCODE VARCHAR(255), VATNUMBER VARCHAR(255), CITY VARCHAR(255), STATE VARCHAR(255), STREET VARCHAR(255), ZIP VARCHAR(255), PRIMARY KEY (ID));
CREATE TABLE ROLE (ID BIGINT AUTO_INCREMENT NOT NULL, GROUPNAME VARCHAR(255), USER_USERNAME VARCHAR(255), PRIMARY KEY (ID));
CREATE TABLE SOLUTION (ID BIGINT AUTO_INCREMENT NOT NULL, DEADLINE DATETIME, NAME VARCHAR(255), PRICE DECIMAL(38), PRIMARY KEY (ID));
CREATE TABLE STEP (ID BIGINT AUTO_INCREMENT NOT NULL, DEADLINE DATETIME, PRICE DECIMAL(38), PRIMARY KEY (ID));
CREATE TABLE PAYMENT (ID BIGINT AUTO_INCREMENT NOT NULL, DISCRIMINATOR VARCHAR(31), MOMENT DATETIME, CURATOR_ID BIGINT, ATTACHE_ID BIGINT, PRIMARY KEY (ID));
CREATE TABLE CHAMPIONSHIPATTENDANCE (ID BIGINT AUTO_INCREMENT NOT NULL, MOMENT DATETIME, ATHLETE_ID BIGINT, ATTACHE_ID BIGINT, CHAMPIONSHIP_ID BIGINT, PRIMARY KEY (ID));
CREATE TABLE COMPETITIONATTENDANCE (ID BIGINT AUTO_INCREMENT NOT NULL, MOMENT DATETIME, ATHLETE_ID BIGINT, ATTACHE_ID BIGINT, COMPETITION_ID BIGINT, SOLUTION_ID BIGINT, PRIMARY KEY (ID));
CREATE TABLE CHAMPIONSHIPFEE (ID BIGINT AUTO_INCREMENT NOT NULL, CODE VARCHAR(255), PRICE DECIMAL(38), PAYMENT_ID BIGINT, ATTENDANCE_ID BIGINT, STEP_ID BIGINT, PRIMARY KEY (ID));
CREATE TABLE COMPETITIONFEE (ID BIGINT AUTO_INCREMENT NOT NULL, CODE VARCHAR(255), PRICE DECIMAL(38), PAYMENT_ID BIGINT, ATTENDANCE_ID BIGINT, PRIMARY KEY (ID));
CREATE TABLE CHAMPIONSHIP_STEP (Championship_ID BIGINT NOT NULL, steps_ID BIGINT NOT NULL, PRIMARY KEY (Championship_ID, steps_ID));
CREATE TABLE COMPETITION_SOLUTION (Competition_ID BIGINT NOT NULL, solutions_ID BIGINT NOT NULL, PRIMARY KEY (Competition_ID, solutions_ID));
CREATE TABLE EVENT (CURATOR_ID BIGINT, SPORT_ID BIGINT);
CREATE TABLE ATTENDANCE (ATHLETE_ID BIGINT, ATTACHE_ID BIGINT);
CREATE TABLE FEE (PAYMENT_ID BIGINT);
ALTER TABLE ATHLETE ADD CONSTRAINT FK_ATHLETE_CLUB_ID FOREIGN KEY (CLUB_ID) REFERENCES SPORTSCLUB (ID);
ALTER TABLE ATTACHE ADD CONSTRAINT FK_ATTACHE_USER_USERNAME FOREIGN KEY (USER_USERNAME) REFERENCES USER (USERNAME);
ALTER TABLE ATTACHE ADD CONSTRAINT FK_ATTACHE_CLUB_ID FOREIGN KEY (CLUB_ID) REFERENCES SPORTSCLUB (ID);
ALTER TABLE CHAMPIONSHIP ADD CONSTRAINT FK_CHAMPIONSHIP_SPORT_ID FOREIGN KEY (SPORT_ID) REFERENCES SPORT (ID);
ALTER TABLE CHAMPIONSHIP ADD CONSTRAINT FK_CHAMPIONSHIP_CURATOR_ID FOREIGN KEY (CURATOR_ID) REFERENCES CURATOR (ID);
ALTER TABLE COMPETITION ADD CONSTRAINT FK_COMPETITION_SPORT_ID FOREIGN KEY (SPORT_ID) REFERENCES SPORT (ID);
ALTER TABLE COMPETITION ADD CONSTRAINT FK_COMPETITION_CURATOR_ID FOREIGN KEY (CURATOR_ID) REFERENCES CURATOR (ID);
ALTER TABLE CURATOR ADD CONSTRAINT FK_CURATOR_USER_USERNAME FOREIGN KEY (USER_USERNAME) REFERENCES USER (USERNAME);
ALTER TABLE ROLE ADD CONSTRAINT FK_ROLE_USER_USERNAME FOREIGN KEY (USER_USERNAME) REFERENCES USER (USERNAME);
ALTER TABLE PAYMENT ADD CONSTRAINT FK_PAYMENT_ATTACHE_ID FOREIGN KEY (ATTACHE_ID) REFERENCES ATTACHE (ID);
ALTER TABLE PAYMENT ADD CONSTRAINT FK_PAYMENT_CURATOR_ID FOREIGN KEY (CURATOR_ID) REFERENCES CURATOR (ID);
ALTER TABLE CHAMPIONSHIPATTENDANCE ADD CONSTRAINT FK_CHAMPIONSHIPATTENDANCE_ATTACHE_ID FOREIGN KEY (ATTACHE_ID) REFERENCES ATTACHE (ID);
ALTER TABLE CHAMPIONSHIPATTENDANCE ADD CONSTRAINT FK_CHAMPIONSHIPATTENDANCE_CHAMPIONSHIP_ID FOREIGN KEY (CHAMPIONSHIP_ID) REFERENCES CHAMPIONSHIP (ID);
ALTER TABLE CHAMPIONSHIPATTENDANCE ADD CONSTRAINT FK_CHAMPIONSHIPATTENDANCE_ATHLETE_ID FOREIGN KEY (ATHLETE_ID) REFERENCES ATHLETE (ID);
ALTER TABLE COMPETITIONATTENDANCE ADD CONSTRAINT FK_COMPETITIONATTENDANCE_ATHLETE_ID FOREIGN KEY (ATHLETE_ID) REFERENCES ATHLETE (ID);
ALTER TABLE COMPETITIONATTENDANCE ADD CONSTRAINT FK_COMPETITIONATTENDANCE_COMPETITION_ID FOREIGN KEY (COMPETITION_ID) REFERENCES COMPETITION (ID);
ALTER TABLE COMPETITIONATTENDANCE ADD CONSTRAINT FK_COMPETITIONATTENDANCE_SOLUTION_ID FOREIGN KEY (SOLUTION_ID) REFERENCES SOLUTION (ID);
ALTER TABLE COMPETITIONATTENDANCE ADD CONSTRAINT FK_COMPETITIONATTENDANCE_ATTACHE_ID FOREIGN KEY (ATTACHE_ID) REFERENCES ATTACHE (ID);
ALTER TABLE CHAMPIONSHIPFEE ADD CONSTRAINT FK_CHAMPIONSHIPFEE_ATTENDANCE_ID FOREIGN KEY (ATTENDANCE_ID) REFERENCES CHAMPIONSHIPATTENDANCE (ID);
ALTER TABLE CHAMPIONSHIPFEE ADD CONSTRAINT FK_CHAMPIONSHIPFEE_STEP_ID FOREIGN KEY (STEP_ID) REFERENCES STEP (ID);
ALTER TABLE CHAMPIONSHIPFEE ADD CONSTRAINT FK_CHAMPIONSHIPFEE_PAYMENT_ID FOREIGN KEY (PAYMENT_ID) REFERENCES PAYMENT (ID);
ALTER TABLE COMPETITIONFEE ADD CONSTRAINT FK_COMPETITIONFEE_ATTENDANCE_ID FOREIGN KEY (ATTENDANCE_ID) REFERENCES COMPETITIONATTENDANCE (ID);
ALTER TABLE COMPETITIONFEE ADD CONSTRAINT FK_COMPETITIONFEE_PAYMENT_ID FOREIGN KEY (PAYMENT_ID) REFERENCES PAYMENT (ID);
ALTER TABLE CHAMPIONSHIP_STEP ADD CONSTRAINT FK_CHAMPIONSHIP_STEP_steps_ID FOREIGN KEY (steps_ID) REFERENCES STEP (ID);
ALTER TABLE CHAMPIONSHIP_STEP ADD CONSTRAINT FK_CHAMPIONSHIP_STEP_Championship_ID FOREIGN KEY (Championship_ID) REFERENCES CHAMPIONSHIP (ID);
ALTER TABLE COMPETITION_SOLUTION ADD CONSTRAINT FK_COMPETITION_SOLUTION_Competition_ID FOREIGN KEY (Competition_ID) REFERENCES COMPETITION (ID);
ALTER TABLE COMPETITION_SOLUTION ADD CONSTRAINT FK_COMPETITION_SOLUTION_solutions_ID FOREIGN KEY (solutions_ID) REFERENCES SOLUTION (ID);
ALTER TABLE EVENT ADD CONSTRAINT FK_EVENT_CURATOR_ID FOREIGN KEY (CURATOR_ID) REFERENCES CURATOR (ID);
ALTER TABLE EVENT ADD CONSTRAINT FK_EVENT_SPORT_ID FOREIGN KEY (SPORT_ID) REFERENCES SPORT (ID);
ALTER TABLE ATTENDANCE ADD CONSTRAINT FK_ATTENDANCE_ATHLETE_ID FOREIGN KEY (ATHLETE_ID) REFERENCES ATHLETE (ID);
ALTER TABLE ATTENDANCE ADD CONSTRAINT FK_ATTENDANCE_ATTACHE_ID FOREIGN KEY (ATTACHE_ID) REFERENCES ATTACHE (ID);
ALTER TABLE FEE ADD CONSTRAINT FK_FEE_PAYMENT_ID FOREIGN KEY (PAYMENT_ID) REFERENCES PAYMENT (ID);
